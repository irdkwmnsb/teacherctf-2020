# Rock scissors paper
## Описание
Один наш знакомый утвеждает, что знает флаг, но отдаст его только если обыграть его робота в игру "камень, ножницы, бумага". Он утверждает, что это невозможно. Попробуете?

(файл, ссылка)

## Решение
Нам дано веб-приложение, написанное на javascript (фреймворк express). Изучив `app.js` мы приходим к выводу, что действия бота генерируются рандомно. Дефолтный генератор рандома javascript не позволяет задать семя генерации, но здесь используется кастомный генератор `seedrandom` (подробнее можно узнать [здесь](https://github.com/davidbau/seedrandom)), в котором в качестве семени генерации задается имя пользователья. Как известно, при одинаковом семени генератор создает одинаковую последовательность. Отсюда возможно два решения:
1. Ввойти в игру первый раз, запомнить имя. Сделать 10 случайных ходов, в истории ходов найти и запомнить ходы бота. Зайди в игру второй раз, ходить так, чтобы всегда выигрывать (ходы бота известны). Это простой способ, не требующий написания скрипта, но требует много времени на ручную обработку и не будет работать за приемлимое время, если требуется победить не 10, а 1000 раз.

2. Найти в файле `app.js` генерацию ходов бота:
```
this.rnd = seedrandom(name);
auto_choice() {
		return Math.floor(this.rnd() * 3);
}
```
И написать скрипт на nodejs для предугадывания ходов (потребуется npm):
```
let seedrandom = require('seedrandom');
let name = 'username'
let rounds = 10
let rnd = seedrandom(name);
for (let i = 0; i < rounds; i++) {
		let bot = Math.floor(rnd() * 3);
		if (bot == 0)
				console.log('Round ' + (i + 1) + ': paper');
		if (bot == 1)
				console.log('Round ' + (i + 1) + ': rock');
		if (bot == 2)
				console.log('Round ' + (i + 1) + ': scissors');
}
```
Полученную последовательность можно ввести руками или автоматически, как удобнее в конкретной ситуации.

## Флаг
`TeacherCTF{n1c3_r4nd0m_br0}`